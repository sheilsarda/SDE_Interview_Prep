#### 9. Maximize Gratness Of An array

You are given a 0-indexed integer array nums. You are allowed to permute nums into a new array perm of your choosing.

We define the greatness of nums be the number of indices 0 <= i < nums.length for which perm[i] > nums[i].

Return the maximum possible greatness you can achieve after permuting nums.

````rust
impl Solution {
    pub fn maximize_greatness(mut nums: Vec<i32>) -> i32 {
        // Sort the array
        nums.sort_unstable();
        
        let mut count = 0;
        let mut j = 0;  // Pointer for perm array
        
        // For each element in sorted nums (at position i)
        for i in 0..nums.len() {
            // Find the smallest element in remaining perm that is > nums[i]
            while j < nums.len() && nums[j] <= nums[i] {
                j += 1;
            }
            
            // If we found a valid match
            if j < nums.len() {
                count += 1;
                j += 1;  // Move to next available element in perm
            }
        }
        
        count
    }
}

// Test code
fn main() {
    // Example 1
    let nums1 = vec![1, 3, 5, 2, 1, 3, 1];
    println!("Example 1: {}", Solution::maximize_greatness(nums1)); // Output: 4
    
    // Example 2
    let nums2 = vec![1, 2, 3, 4];
    println!("Example 2: {}", Solution::maximize_greatness(nums2)); // Output: 3
}

struct Solution;
````